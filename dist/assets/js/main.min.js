const talkBtn=document.querySelector(".btn_talk");let form=document.querySelector(".form"),email=document.querySelector(".email"),area=document.querySelector(".area"),nickForm=document.querySelector(".nick"),body=document.querySelector("body"),modal=document.querySelector(".modal"),closeModal=document.querySelector(".close"),closeModalSent=document.querySelector(".close2"),modalSent=document.querySelector(".modalConfirm"),modalSentBox=document.querySelector(".modalConfrim_box"),modalBox=document.querySelector(".modal_box");function validateEmail(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}let inputs=[{validate:!0,error:"обязательное поле!"},{validate:!0,error:"обязательное поле!"},{validate:!0,error:"обязательное поле!"}];function validation(e){let r={validation:!1};function a(e,o){var l=e.parentNode,t=document.createElement("p");t.classList.add("errorText"),t.textContent=o,e.classList.add("error"),l.append(t)}return e.querySelectorAll("input").forEach((e,o)=>{var l,t;t=(l=e).closest("label").querySelector(".errorText"),l.classList.contains("error")&&(t.remove(),t.classList.remove(".errorText"),l.classList.remove("error")),""==e.value?1!==o&&a(e,"обязательное поле!"):1!==o&&(t=e.closest("label").querySelector(".errorText"))&&(t.remove(),t.classList.remove(".errorText"),e.classList.remove("error"),r.validation=!0),1===o&&(validateEmail(e.value)?r.validation=!0:a(e,"введите ваш e-mail!"))}),r.validation}const scrollController={position:0,flag:!(form.onsubmit=function(e){e.preventDefault(),1==validation(this)&&scrollController.setMessageModal()}),disabled(){var e=window.scrollY;body.classList.add("openBody"),modal.classList.add("open"),this.position=e,this.flag=!0,confirmPos(this.position)},enabled(){return modal.classList.remove("open"),body.classList.remove("openBody"),confirmPos(this.position,this.flag)},setMessageModal(){modal.classList.remove("open"),modalSent.classList.add("open")},disableMessageModal(){modalSent.classList.remove("open"),form.reset(),confirmPos(this.position,this.flag)}};function confirmPos(e,o){window.scrollTo({top:e,left:0})}talkBtn.addEventListener("click",()=>{scrollController.disabled()}),closeModal.addEventListener("click",()=>{scrollController.enabled()}),closeModalSent.addEventListener("click",()=>{scrollController.disableMessageModal()}),modal.addEventListener("click",()=>{scrollController.enabled()}),modalBox.addEventListener("click",e=>{e.stopPropagation()}),modalSentBox.addEventListener("click",e=>{e.stopPropagation()}),modalSent.addEventListener("click",()=>{scrollController.disableMessageModal()});