const talkBtn=document.querySelector(".btn_talk");let form=document.querySelector(".form"),email=document.querySelector(".email"),area=document.querySelector(".area"),nickForm=document.querySelector(".nick"),body=document.querySelector("body"),modal=document.querySelector(".modal"),closeModal=document.querySelector(".close"),closeModalSent=document.querySelector(".close2"),modalSent=document.querySelector(".modalConfirm"),modalSentBox=document.querySelector(".modalConfrim_box"),modalBox=document.querySelector(".modal_box");function validateEmail(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}let inputs=[{validate:!0,error:"обязательное поле!"},{validate:!0,error:"обязательное поле!"},{validate:!0,error:"обязательное поле!"}];function validation(e){let r=!0;return e.querySelectorAll("input").forEach(e=>{var o,t,l;o=(t=e).closest("label").querySelector(".errorText"),console.log(t.classList),t.classList.contains("error")&&(o.remove(),o.classList.remove(".errorText")),""==e.value&&(r=!1,t="обязательное поле!",e=(o=e).parentNode,(l=document.createElement("p")).classList.add("errorText"),l.textContent=t,o.classList.add("error"),e.append(l))}),r}document.querySelectorAll(".input").forEach((o,e)=>o.addEventListener("input",e=>{o.closest("label");e.target.value.length<=0?e.target.classList.add("error"):e.target.classList.remove("error")}));const scrollController={position:0,flag:!(form.onsubmit=function(e){e.preventDefault(),1==validation(this)&&scrollController.setMessageModal()}),disabled(){var e=window.scrollY;body.classList.add("openBody"),modal.classList.add("open"),this.position=e,this.flag=!0,confirmPos(this.position)},enabled(){modal.classList.remove("open"),document.querySelector("body").classList.remove("openBody"),confirmPos(this.position,this.flag)},setMessageModal(){modal.classList.remove("open"),modalSent.classList.add("open")},disableMessageModal(){modalSent.classList.remove("open"),document.body.classList.remove("openBody"),form.reset(),confirmPos(this.position,this.flag)}};function confirmPos(e,o){let t={};(t=o?window:body).scrollTo({top:e,left:0,behavior:"smooth"})}talkBtn.addEventListener("click",()=>{scrollController.disabled()}),closeModal.addEventListener("click",()=>{scrollController.enabled()}),closeModalSent.addEventListener("click",()=>{scrollController.disableMessageModal()}),modal.addEventListener("click",()=>{scrollController.enabled()}),modalBox.addEventListener("click",e=>{e.stopPropagation()}),modalSentBox.addEventListener("click",e=>{e.stopPropagation()}),modalSent.addEventListener("click",()=>{scrollController.disableMessageModal()});